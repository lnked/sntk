function scrollToElement(t){if(console.log("scroll to ",t,$(t).length),$(t).length){var e;e=$(t).closest(".popup").length?$(t).closest(".popup"):$(t),e.stop().animate({scrollTop:$(t).position().top},"fast")}}function showif(t,e,i){t==e?$(i).show():$(i).hide()}function is_null(t){return null==t}function is_undefined(t){return"undefined"==typeof t}function is_touch_device(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||"onmsgesturechange"in window}function updateCaptcha(t,e){return e.preventDefault(),$(t).length&&$(t).attr("src",$(t).attr("src").split("?")[0]+"?v="+Math.random()),!1}function googleMap(){function t(t,e){var i=['<div class="map-content">','<h2 class="firstHeading">'+t.title+"</h2>",'<div class="map-bodyContent">',"<p>"+t.city+"</p>","<p>"+t.street+"</p>","<p><span>Телефон:</span>"+t.phone+"</p>","<p><span>Email:</span>"+t.email+"</p>","</div>","</div>"].join(""),n=new google.maps.InfoWindow({content:i,disableAutoPan:!0,maxWidth:500}),o={url:"./images/map-marker.png",size:new google.maps.Size(18,25),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(18,25),anchor:new google.maps.Point(18,25)},s=new google.maps.Marker({position:new google.maps.LatLng(t.coords[0],t.coords[1]),map:e,icon:o,flat:!0,title:t.title});google.maps.event.addListener(s,"click",function(){n&&n.close(),n.open(e,s)})}var e={moscow:{city:"г. Москва",title:"Москва",street:"Верхняя Масловка, д. 20, стр. 1.",phone:"(495) 645-83-54",email:"info@itsntk.ru",coords:[55.795316,37.562272]},krasnodar:{city:"г. Краснодар",title:"Краснодар",street:"ул. Дальняя, 39/3",phone:"(861) 278-98-34",email:"info@itsntk.ru",coords:[45.060932,38.964575]}},i={zoom:13,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.LEFT_TOP},panControl:!1,panControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!0,draggable:!0,disableDoubleClickZoom:!1,center:new google.maps.LatLng(e.krasnodar.coords[0],e.krasnodar.coords[1])},n=new google.maps.Map(document.getElementById("map-conteiner"),i);for(var o in e)t(e[o],n);$("body").on("click",".js-toggle-class",function(t){var i=($(this).closest(".js-toggle-wrapper"),"");$(this).data("city")&&(i=$(this).data("city"),n.setZoom(13),n.setCenter({lat:e[i].coords[0],lng:e[i].coords[1]}))})}!function(t){"use strict";window.body=t("body"),window._this=null,t.app={initSandwich:function(){this.sandwich.init({keyHooks:!0,selector:".js-sandwich-menu",wrapper:".layout-wrapper",overlay:"#menu-overlay"})},initSelect:function(e){"undefined"==typeof e?t("select").not(".is-system").selectbox():e.find("select").not(".is-system").selectbox()},initMask:function(){t(".js-date-watcher").mask("99/99/9999"),t(".js-inn-watcher").mask("999999999999"),t(".js-phone-watcher").mask("+ 7 (999) 999-99-99"),t(".js-cartnumber-watcher").mask("999-999-999")},initPopup:function(){t.popup.init(".js-open-popup",{wrapper:".layout-wrapper",cssPosition:!0}),t(".open-popup-link").magnificPopup({type:"inline",midClick:!0})},initMagnific:function(){t(".zoom").magnificPopup({type:"image",preloader:!0,gallery:{enabled:!0},zoom:{enabled:!0,duration:300,easing:"ease-in-out",opener:function(t){return t.is("img")?t:t.find("img")}}})},slickCarousel:function(){if(t(".js-carousel").length&&t(".js-carousel").find(".slick-slide").length){var e=4,i="carousel";t(".js-carousel").each(function(){e=4,i="carousel",t(this).data("viewcount")&&(e=parseInt(t(this).data("viewcount"))),t(this).data("classname")&&(i=t(this).data("classname")),t(this).slick({infinite:!0,dots:!1,draggable:!0,speed:170,slidesToShow:e,slidesToScroll:1,prevArrow:'<button type="button" class="'+i+"__navigation "+i+'__navigation_prev slick-prev"></button>',nextArrow:'<button type="button" class="'+i+"__navigation "+i+'__navigation_next slick-next"></button>',responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})})}},slickSlider:function(){if(t(".js-slider").length&&t(".js-slider").find(".slick-slide").length){var e,i=4,n="slider",o=t(window).width();t(".js-slider").find(".slick-slide").css({width:o+"px"}),t(window).on("resize",function(){clearTimeout(e),e=setTimeout(function(){o=t(window).width(),t(".js-slider").find(".slick-slide").css({width:o+"px"})},10)}),t(".js-slider").each(function(){i=4,n="slider",t(this).data("viewcount")&&(i=parseInt(t(this).data("viewcount"))),t(this).data("classname")&&(n=t(this).data("classname")),t(this).slick({infinite:!0,dots:!1,draggable:!0,speed:300,fade:!1,arrows:!1,autoplay:!0,autoplaySpeed:5e3,pauseOnHover:!1,useTransform:!1,variableWidth:!0,cssEase:"ease"})})}},toggle:function(){var e,i,n,o;t(".js-toggle-trigger").each(function(){t(t(this).data("toggle")).length&&(e=t(this).data("toggle"),o=t(this),i=t(e),body.on("click",function(s){n=t(s.target),n.closest(e).length||n.closest(".js-toggle-trigger").length||!i.hasClass("active")||(o.removeClass("animate"),i.removeClass("transform"),setTimeout(function(){i.removeClass("active")},135))}))}),body.on("click",".js-toggle-trigger",function(e){e.preventDefault(),t(this).data("toggle")&&(i=t(t(this).data("toggle")),o=t(this),i.length&&(i.hasClass("active")?(o.removeClass("animate"),i.removeClass("transform"),setTimeout(function(){i.removeClass("active")},135)):(o.addClass("animate"),i.addClass("active"),setTimeout(function(){i.addClass("transform")},5))))})},initJump:function(){body.on("click",".js-jumpto",function(e){e.preventDefault(),t(this).data("target")&&t(t(this).data("target")).length&&t(this).closest(".popup").stop().animate({scrollTop:t(t(this).data("target")).position().top},"fast")})},hashJump:function(){if(window.location.hash){var e=window.location.hash.substr(1),i=null;t('a[name="'+e+'"]').length&&(i=t('a[name="'+e+'"]').eq(0)),t("#"+e).length&&(i=t("#"+e).eq(0)),null!==i&&t("html, body").stop().animate({scrollTop:i.offset().top},"fast")}},updateImage:function(){body.on("click",".js-update-image",function(e){e.preventDefault(),t(this).find("img").attr("src",t(this).find("img").attr("src").split("?")[0]+"?u="+Math.random())})},zoomit:function(){var e,i,n;body.on("click",".js-zoom-image",function(o){return o.preventDefault(),n=t(this).attr("href"),t(this).closest(".js-zoom-wrapper").length&&(e=t(this).closest(".js-zoom-wrapper"),e.find(".js-zoom-holder").length&&(i=e.find(".js-zoom-holder"),i.html(""),e.find(".current").removeClass("current"),i.html('<img src="'+n+'" alt="">'),t(this).addClass("current"))),!1})},hoverBind:function(){body.on("mouseenter",".js-bind-hover",function(){t(this).addClass("hover")}),body.on("mouseleave",".js-bind-hover",function(){t(this).removeClass("hover")})},toggleClass:function(){body.on("click",".js-toggle-class",function(e){var i=t(this).closest(".js-toggle-wrapper");t(this).hasClass("current")||(i.find(".current").removeClass("current"),t(this).addClass("current"))})},setCurrent:function(t){var e=t.find(".js-viewer-list");t.find(".js-viewer-count").html(e.find(".current").closest(".viewer__list__item").index()+1),t.find(".js-viewer-total").html(e.find(".viewer__list__item").length)},initViewer:function(){_this=this,body.on("click",".js-viewer-prev",function(e){e.preventDefault();var i,n=t(this).closest(".js-viewer"),o=n.find(".js-viewer-list"),s=o.find(".current").closest(".viewer__list__item").index();i=o.find(".viewer__list__item").eq(s-1).length?o.find(".viewer__list__item").eq(s-1):o.find(".viewer__list__item").eq(o.find(".viewer__list__item").length),i.find(".js-viewer-trigger").trigger("click"),_this.setCurrent(n)}),body.on("click",".js-viewer-next",function(e){e.preventDefault();var i,n=t(this).closest(".js-viewer"),o=n.find(".js-viewer-list"),s=o.find(".current").closest(".viewer__list__item").index();i=o.find(".viewer__list__item").eq(s+1).length?o.find(".viewer__list__item").eq(s+1):o.find(".viewer__list__item").eq(0),i.find(".js-viewer-trigger").trigger("click"),_this.setCurrent(n)}),body.on("click",".js-viewer-trigger",function(e){e.preventDefault();var i=t(this).closest(".js-viewer"),n=t(this).attr("href");return i.find(".current").removeClass("current"),i.find(".js-viewer-image").html('<img src="'+n+'" class="viewer__image__src" alt="">'),t(this).addClass("current"),_this.setCurrent(i),!1}),_this.setCurrent(t(".js-viewer"))},initEvents:function(){if(t(".events-item").length){var e=[],i=0;t(".events-item").each(function(){e.push(t(this).outerHeight())}),e.length&&(i=Array.max(e)),i>0&&t(".events-item").css({"min-height":i+"px"})}},initMarker:function(){var e;body.on("mouseenter",".js-marker",function(){e=t(this).find(".map-presence__marker__tooltip"),e.addClass("show"),setTimeout(function(){e.addClass("animate")},5)}),body.on("mouseleave",".js-marker",function(){e=t(this).find(".map-presence__marker__tooltip"),e.removeClass("animate"),setTimeout(function(){e.removeClass("show")},300)})},init:function(){_this=this,this.slickCarousel(),this.slickSlider(),this.initPopup(),this.initMarker(),this.initEvents(),this.initAddition(),this.initMask(),this.initSelect(),this.initSandwich(),this.hoverBind(),this.toggleClass(),this.initViewer(),this.initMagnific(),this.initJump()}}}(jQuery),function(t){"use strict";t.app=t.app=t.app||{},t.app.initAddition=function(){_this=this,body.on("click",".js-add-element",function(e){var i,n,o,s,a;e.preventDefault(),t(this).data("template")&&t("#"+t(this).data("template")).length&&(i=t(this).closest(".js-form-addition"),n=i.find("tbody").find("tr").length,n||(n=1),o={},t(this).data("addclass")&&(o.addclass=t(this).data("addclass")),s=i.find("tbody"),o.index=++n,i.data("additional_counter",n),a=t(template(t(this).data("template"),o)),s.append(a),_this.initSelect(a))})},t.app.initRemove=function(){body.on("click",".js-remove-element",function(e){if(e.preventDefault(),t(this).data("element")&&t(t(this).data("element")).length){var i;t(this).data("cookie")&&t.cookie(t(this).data("cookie"),"hidden",{path:"/"}),t(this).hasClass("js-remove-closest")?(i=t(this).closest(t(this).data("element")),i.stop().animate({height:0,opacity:0},250,function(){i.remove()})):(i=t(t(this).data("element")),i.stop().animate({marginTop:"-400px"},0,function(){setTimeout(function(){i.remove()},600)}))}})}}(jQuery),function(t){"use strict";t.app=t.app=t.app||{};var e,i;t.app.map={google:function(e){function i(){null!==a.getAnimation()?a.setAnimation(null):(a.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){a.setAnimation(null)},2e3))}var n=new google.maps.Map(d.getElementById("map-conteiner-"+e),{zoom:14,zoomControl:!1,panControl:!1,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!0,disableDoubleClickZoom:!0,center:new google.maps.LatLng(45.053548,39.016056)}),o={zoom:17,zoomControl:!1,panControl:!1,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!0,disableDoubleClickZoom:!1,streetViewControl:!1,overviewMapControl:!1,center:new google.maps.LatLng(latitude,longitude)},s={url:"/images/marker@2x.png",size:new google.maps.Size(26,32),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(26,32),anchor:new google.maps.Point(26,32)},n=new google.maps.Map(t(container),o),a=new google.maps.Marker({position:new google.maps.LatLng(latitude,longitude),map:n,icon:s,flat:!0,title:"г. Москва, Тессинский переулок, вл. 2-6, 19"});a.addListener("click",i)},yandex:function(t){e={ymap:null,draw:function(){this.ymap=new ymaps.Map(t.container,{center:[t.latitude,t.longitude],zoom:14},{searchControlProvider:"yandex#map"})},controls:function(){},placemark:function(){this.ymap.geoObjects.add(new ymaps.Placemark([t.latitude,t.longitude],{balloonContent:"цвет <strong>воды пляжа бонди</strong>"},{preset:"islands#icon",iconColor:"#0095b6"}))},init:function(){this.draw(),this.controls(),this.placemark()}},ymaps.ready(function(){e.init()})},paste:function(t){this[t.provider](t)},load:function(){i=this,body.find(".js-load-map").length&&body.find(".js-load-map").each(function(){console.log(t(this)),t(this).data("latitude")&&t(this).data("longitude")&&t(this).data("provider")&&t(this).data("container")&&i.paste({container:t(this).data("container"),provider:t(this).data("provider"),latitude:t(this).data("latitude"),longitude:t(this).data("longitude")})})}},t.app.map.load()}(jQuery),function(t){"use strict";t.app=t.app=t.app||{};var e;t.app.sandwich={config:{keyHooks:!1,selector:".js-sandwich-menu",wrapper:".layout-wrapper",overlay:".overlay"},extend:function(t){if(e=this,"undefined"!=typeof t){var i;for(i in t)"undefined"!=typeof e.config[i]&&(e.config[i]=t[i])}},isOpen:function(){return body.hasClass("page-visible")},hide:function(){body.removeClass("page-open"),setTimeout(function(){body.removeClass("page-visible")},10),t(this.config.overlay).css({visibility:"hidden"})},toggle:function(){body.hasClass("page-visible")?setTimeout(function(){body.removeClass("page-visible")},10):setTimeout(function(){body.addClass("page-visible")},10),body.toggleClass("page-open");var i="visible";body.hasClass("page-open")||(i="hidden"),t(e.config.overlay).css({visibility:i})},sandwichTrigger:function(){e=this,e.config.keyHooks&&body.on("keydown",function(t){27==t.keyCode&&e.isOpen()&&e.toggle()}),body.on("click",e.config.selector,function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,e.toggle()})},overlayTrigger:function(){e=this,body.on("click",e.config.overlay,function(t){e.hide()})},init:function(t){this.extend(t),this.sandwichTrigger(),this.overlayTrigger()}}}(jQuery);var tools={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t},isNumber:function(t){return"number"==typeof t},isUndefined:function(t){return"undefined"==typeof t},isDefined:function(t){return"undefined"!=typeof t}};Array.max=function(t){return Math.max.apply(Math,t)},Array.min=function(t){return Math.min.apply(Math,t)},$(window).load(function(){$.app.init()});