function on(e,t,n){e&&t.split(" ").forEach(function(t){e.addEventListener(t,n)})}function is_null(e){return null==e}function is_undefined(e){return"undefined"==typeof e}function is_touch_device(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||"onmsgesturechange"in window}function declOfNum(e,t){return cases=[2,0,1,1,1,2],t[e%100>4&&20>e%100?2:cases[5>e%10?e%10:5]]}function updateCaptcha(e,t){return t.preventDefault(),$(e).length&&$(e).attr("src",$(e).attr("src").split("?")[0]+"?v="+Math.random()),!1}function debounce(e,t,n){var i;return function(){var o=this,s=arguments,a=function(){i=null,n||e.apply(o,s)},r=n&&!i;clearTimeout(i),i=setTimeout(a,t),r&&e.apply(o,s)}}function once(e,t){var n;return function(){return e&&(n=e.apply(t||this,arguments),e=null),n}}function levenshtein(e,t,n){var i,o,s,a,r,l,c,u,d,p,g;s=e.length,a=t.length,n=n||{};var f=n.replace||1,m=n.replaceCase||n.replace||1,h=n.insert||1,v=n.remove||1;g=r=Math.max(s,a);var w=Math.min(v,h,f),y=Math.max(w,(s-a)*v),_=Math.max(w,(a-s)*h),b=new Array(2*g-1);for(i=0;a>=i;++i)b[i]=i*y;for(i=0;s>i;++i,r=g-r)for(l=e[i],c=l.toLowerCase(),b[r]=(i+1)*_,u=r,d=g-r,o=0;a>o;++o,++u,++d)p=l===t[o]?0:c===t[o].toLowerCase()?m:f,b[u+1]=Math.min(b[d+1]+v,b[u]+h,b[d]+p);return b[a+g-r]}function googleMap(){function e(e,t){var n=['<div class="map-content">','<h2 class="firstHeading">'+e.title+"</h2>",'<div class="map-bodyContent">',"<p>"+e.city+"</p>","<p>"+e.street+"</p>","<p><span>Телефон:</span>"+e.phone+"</p>","<p><span>Email:</span>"+e.email+"</p>","</div>","</div>"].join(""),i=new google.maps.InfoWindow({content:n,disableAutoPan:!0,maxWidth:500}),o={url:"./images/map-marker.png",size:new google.maps.Size(18,25),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(18,25),anchor:new google.maps.Point(18,25)},s=new google.maps.Marker({position:new google.maps.LatLng(e.coords[0],e.coords[1]),map:t,icon:o,flat:!0,title:e.title});google.maps.event.addListener(s,"click",function(){i&&i.close(),i.open(t,s)})}var t={moscow:{city:"г. Москва",title:"Москва",street:"Верхняя Масловка, д. 20, стр. 1.",phone:"(495) 645-83-54",email:"info@itsntk.ru",coords:[55.795316,37.562272]},krasnodar:{city:"г. Краснодар",title:"Краснодар",street:"ул. Дальняя, 39/3",phone:"(861) 278-98-34",email:"info@itsntk.ru",coords:[45.060932,38.964575]}},n={zoom:13,zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.LEFT_TOP},panControl:!1,panControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!0,draggable:!0,disableDoubleClickZoom:!1,center:new google.maps.LatLng(t.krasnodar.coords[0],t.krasnodar.coords[1])},i=new google.maps.Map(document.getElementById("map-conteiner"),n);for(var o in t)e(t[o],i);$("body").on("click",".js-toggle-class",function(e){var n=($(this).closest(".js-toggle-wrapper"),"");$(this).data("city")&&(n=$(this).data("city"),i.setZoom(13),i.setCenter({lat:t[n].coords[0],lng:t[n].coords[1]}))})}!function(e){"use strict";window.body=e("body"),window._this=null,e.app={initSandwich:function(){this.sandwich.init({keyHooks:!0,selector:".js-sandwich-menu",wrapper:".layout-wrapper",overlay:"#menu-overlay"})},initSelect:function(){e("select").selectbox()},initMask:function(){e(".js-date-watcher").mask("99/99/9999"),e(".js-phone-watcher").mask("+ 7 (999) 999-99-99"),e(".js-cartnumber-watcher").mask("999-999-999")},initPopup:function(){e.popup.init(".js-open-popup",{cssPosition:!0,wrapper:".layout-wrapper"}),e(".open-popup-link").magnificPopup({type:"inline",midClick:!0})},initMagnific:function(){e(".zoom").magnificPopup({type:"image",preloader:!0,gallery:{enabled:!0},zoom:{enabled:!0,duration:300,easing:"ease-in-out",opener:function(e){return e.is("img")?e:e.find("img")}}})},slickCarousel:function(){if(e(".js-carousel").length&&e(".js-carousel").find(".slick-slide").length){var t=4,n="carousel";e(".js-carousel").each(function(){t=4,n="carousel",e(this).data("viewcount")&&(t=parseInt(e(this).data("viewcount"))),e(this).data("classname")&&(n=e(this).data("classname")),e(this).slick({infinite:!0,dots:!1,draggable:!0,speed:170,slidesToShow:t,slidesToScroll:1,prevArrow:'<button type="button" class="'+n+"__navigation "+n+'__navigation_prev slick-prev"></button>',nextArrow:'<button type="button" class="'+n+"__navigation "+n+'__navigation_next slick-next"></button>',responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})})}},slickSider:function(){e("#slider").length>0&&e("#slider").find(".slider__item").length>1&&e("#slider").slick({infinite:!0,dots:!0,draggable:!1,speed:300,fade:!0,autoplay:!0,autoplaySpeed:4500,pauseOnHover:!1,cssEase:"ease",prevArrow:'<button type="button" class="slider__navigation slider__navigation_prev slick-prev"></button>',nextArrow:'<button type="button" class="slider__navigation slider__navigation_next slick-next"></button>'})},toggle:function(){var t,n,i,o;e(".js-toggle-trigger").each(function(){e(e(this).data("toggle")).length&&(t=e(this).data("toggle"),o=e(this),n=e(t),body.on("click",function(s){i=e(s.target),i.closest(t).length||i.closest(".js-toggle-trigger").length||!n.hasClass("active")||(o.removeClass("animate"),n.removeClass("transform"),setTimeout(function(){n.removeClass("active")},135))}))}),body.on("click",".js-toggle-trigger",function(t){t.preventDefault(),e(this).data("toggle")&&(n=e(e(this).data("toggle")),o=e(this),n.length&&(n.hasClass("active")?(o.removeClass("animate"),n.removeClass("transform"),setTimeout(function(){n.removeClass("active")},135)):(o.addClass("animate"),n.addClass("active"),setTimeout(function(){n.addClass("transform")},5))))})},hashJump:function(){if(window.location.hash){var t=window.location.hash.substr(1),n=null;e('a[name="'+t+'"]').length&&(n=e('a[name="'+t+'"]').eq(0)),e("#"+t).length&&(n=e("#"+t).eq(0)),null!==n&&e("html, body").stop().animate({scrollTop:n.offset().top},"fast")}},updateImage:function(){body.on("click",".js-update-image",function(t){t.preventDefault(),e(this).find("img").attr("src",e(this).find("img").attr("src").split("?")[0]+"?u="+Math.random())})},zoomit:function(){var t,n,i;body.on("click",".js-zoom-image",function(o){return o.preventDefault(),i=e(this).attr("href"),e(this).closest(".js-zoom-wrapper").length&&(t=e(this).closest(".js-zoom-wrapper"),t.find(".js-zoom-holder").length&&(n=t.find(".js-zoom-holder"),n.html(""),t.find(".current").removeClass("current"),n.html('<img src="'+i+'" alt="">'),e(this).addClass("current"))),!1})},hoverBind:function(){body.on("mouseenter",".js-bind-hover",function(){e(this).addClass("hover")}),body.on("mouseleave",".js-bind-hover",function(){e(this).removeClass("hover")})},toggleClass:function(){body.on("click",".js-toggle-class",function(t){var n=e(this).closest(".js-toggle-wrapper");e(this).hasClass("current")||(n.find(".current").removeClass("current"),e(this).addClass("current"))})},setCurrent:function(e){var t=e.find(".js-viewer-list");e.find(".js-viewer-count").html(t.find(".current").closest(".viewer__list__item").index()+1),e.find(".js-viewer-total").html(t.find(".viewer__list__item").length)},initViewer:function(){_this=this,body.on("click",".js-viewer-prev",function(t){t.preventDefault();var n,i=e(this).closest(".js-viewer"),o=i.find(".js-viewer-list"),s=o.find(".current").closest(".viewer__list__item").index();n=o.find(".viewer__list__item").eq(s-1).length?o.find(".viewer__list__item").eq(s-1):o.find(".viewer__list__item").eq(o.find(".viewer__list__item").length),n.find(".js-viewer-trigger").trigger("click"),_this.setCurrent(i)}),body.on("click",".js-viewer-next",function(t){t.preventDefault();var n,i=e(this).closest(".js-viewer"),o=i.find(".js-viewer-list"),s=o.find(".current").closest(".viewer__list__item").index();n=o.find(".viewer__list__item").eq(s+1).length?o.find(".viewer__list__item").eq(s+1):o.find(".viewer__list__item").eq(0),n.find(".js-viewer-trigger").trigger("click"),_this.setCurrent(i)}),body.on("click",".js-viewer-trigger",function(t){t.preventDefault();var n=e(this).closest(".js-viewer"),i=e(this).attr("href");return n.find(".current").removeClass("current"),n.find(".js-viewer-image").html('<img src="'+i+'" class="viewer__image__src" alt="">'),e(this).addClass("current"),_this.setCurrent(n),!1}),_this.setCurrent(e(".js-viewer"))},init:function(){_this=this,this.slickCarousel(),this.initPopup(),this.initMask(),this.initSelect(),this.initSandwich(),this.hoverBind(),this.toggleClass(),this.initViewer(),this.initMagnific()}}}(jQuery),function(e){"use strict";e.app=e.app=e.app||{};var t,n;e.app.map={google:function(t){function n(){null!==a.getAnimation()?a.setAnimation(null):(a.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){a.setAnimation(null)},2e3))}var i=new google.maps.Map(d.getElementById("map-conteiner-"+t),{zoom:14,zoomControl:!1,panControl:!1,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!0,disableDoubleClickZoom:!0,center:new google.maps.LatLng(45.053548,39.016056)}),o={zoom:17,zoomControl:!1,panControl:!1,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!0,disableDoubleClickZoom:!1,streetViewControl:!1,overviewMapControl:!1,center:new google.maps.LatLng(latitude,longitude)},s={url:"/images/marker@2x.png",size:new google.maps.Size(26,32),origin:new google.maps.Point(0,0),scaledSize:new google.maps.Size(26,32),anchor:new google.maps.Point(26,32)},i=new google.maps.Map(e(container),o),a=new google.maps.Marker({position:new google.maps.LatLng(latitude,longitude),map:i,icon:s,flat:!0,title:"г. Москва, Тессинский переулок, вл. 2-6, 19"});a.addListener("click",n)},yandex:function(e){t={ymap:null,draw:function(){this.ymap=new ymaps.Map(e.container,{center:[e.latitude,e.longitude],zoom:14},{searchControlProvider:"yandex#map"})},controls:function(){},placemark:function(){this.ymap.geoObjects.add(new ymaps.Placemark([e.latitude,e.longitude],{balloonContent:"цвет <strong>воды пляжа бонди</strong>"},{preset:"islands#icon",iconColor:"#0095b6"}))},init:function(){this.draw(),this.controls(),this.placemark()}},ymaps.ready(function(){t.init()})},paste:function(e){this[e.provider](e)},load:function(){n=this,body.find(".js-load-map").length&&body.find(".js-load-map").each(function(){console.log(e(this)),e(this).data("latitude")&&e(this).data("longitude")&&e(this).data("provider")&&e(this).data("container")&&n.paste({container:e(this).data("container"),provider:e(this).data("provider"),latitude:e(this).data("latitude"),longitude:e(this).data("longitude")})})}},e.app.map.load()}(jQuery),function(e){"use strict";e.app=e.app=e.app||{};var t;e.app.sandwich={config:{keyHooks:!1,selector:".js-sandwich-menu",wrapper:".layout-wrapper",overlay:".overlay"},extend:function(e){if(t=this,"undefined"!=typeof e){var n;for(n in e)"undefined"!=typeof t.config[n]&&(t.config[n]=e[n])}},isOpen:function(){return body.hasClass("page-visible")},hide:function(){body.removeClass("page-open"),setTimeout(function(){body.removeClass("page-visible")},10),e(this.config.overlay).css({visibility:"hidden"})},toggle:function(){body.hasClass("page-visible")?setTimeout(function(){body.removeClass("page-visible")},10):setTimeout(function(){body.addClass("page-visible")},10),body.toggleClass("page-open");var n="visible";body.hasClass("page-open")||(n="hidden"),e(t.config.overlay).css({visibility:n})},sandwichTrigger:function(){t=this,t.config.keyHooks&&body.on("keydown",function(e){27==e.keyCode&&t.isOpen()&&t.toggle()}),body.on("click",t.config.selector,function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,t.toggle()})},overlayTrigger:function(){t=this,body.on("click",t.config.overlay,function(e){t.hide()})},init:function(e){this.extend(e),this.sandwichTrigger(),this.overlayTrigger()}}}(jQuery);var tools={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e},isNumber:function(e){return"number"==typeof e},isUndefined:function(e){return"undefined"==typeof e},isDefined:function(e){return"undefined"!=typeof e}},shuffle=function(e){return e.sort(function(){return Math.random()-.5})},getAbsoluteUrl=function(){var e;return function(t){return e||(e=document.createElement("a")),e.href=t,e.href}}();$(window).load(function(){$.app.init()});